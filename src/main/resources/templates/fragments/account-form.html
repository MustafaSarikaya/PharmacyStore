<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link href="../../static/css/style.css" rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
<div th:fragment="account-form(actionUrl, actionBtn, canEditCredentials, firstTime)">
  <form id="account-form" action="#" th:object="${accountData}" th:action="@{${actionUrl}}" method="post">

    <label for="fname" th:text="#{account.firstname}"></label>
    <input id="fname"type="text" placeholder="Enter your first name"
           name="fname" th:field="*{firstname}"/><br>

    <label for="mnames" th:text="#{account.middlenames}"></label>
    <input id="mnames" type="text" placeholder="Enter your middle name(s)"
           name="mnames" th:field="*{middlenames}"/><br>

    <label for="lname" th:text="#{account.lastname}"></label>
    <input id="lname" type="text" placeholder="Enter your last name"
           name="lname" th:field="*{lastname}"/><br>

    <label th:if="${canEditCredentials}" for="userName" th:text="#{account.userName}"><b>Username</b></label>
    <input id="userName" type="text" placeholder="Enter Username"
           name="userName"
           th:type="${canEditCredentials}? 'text' : 'hidden'"
           th:field="*{userName}"/>
    <div th:if="${#fields.hasErrors('userName')}" th:errors="*{userName}">Error</div><br th:if="${canEditCredentials}"><br>

    <label for="gender" th:text="#{account.gender}"></label>
    <select id="gender" name="gender" th:field="*{gender}"/>
      <option value="male" th:text="#{account.gender.male}">Male</option>
      <option value="female" th:text="#{account.gender.female}">Female</option>
      <option value="other" th:text="#{account.gender.other}">Other</option>
      <option value="rns" th:text="#{account.gender.rns}">Rather Not Say</option>
    </select><br>

    <label for="language" th:text="#{account.language}"></label>
    <select id="language" name="language" th:field="*{language}"/>
    <option value="en" th:text="#{account.language.en}">English</option>
    <option value="fr" th:text="#{account.language.fr}">French</option>
    <option value="sp" th:text="#{account.language.sp}">Spanish</option>
    <option value="ar" th:text="#{account.language.ar}">Arabic</option>
    <option value="ru" th:text="#{account.language.ru}">Russian</option>
    <option value="pg" th:text="#{account.language.pg}">Portuguese</option>
    <option value="de" th:text="#{account.language.de}">German</option>
    <option value="jp" th:text="#{account.language.jp}">Japanese</option>
    <option value="cn" th:text="#{account.language.cn}">Chinese</option>
    <option value="it" th:text="#{account.language.it}">Italian</option>
    <option value="sk" th:text="#{account.language.sk}">Korean</option>
    </select><br>

    <label for="role" th:if="${firstTime}" th:text="#{account.role}"></label>
    <select id="role" th:if="${firstTime}" name="role" th:field="*{role}"/>
    <option value="admin" th:text="#{account.role.admin}">Administrator</option>
    <option value="agent" th:text="#{account.role.agent}">Agent / Assistant</option>
    <option value="pharmacist" th:text="#{account.role.pharmacist}">Pharmacist</option>
    </select><br th:if="${firstTime}"><br>

    <label for="email" th:text="#{account.email}"></label>
    <input id="email" type="email" placeholder="Enter your Email" name="email"
           th:field="*{email}"/>
    <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Error</div><br>

    <label th:if="${canEditCredentials && !firstTime}" for="passwd" th:text="#{account.password}"></label>
    <input id="passwd" type="password" placeholder="Enter Password"
           name="passwd"
           th:type="${canEditCredentials && !firstTime}? 'password' : 'hidden'"
           th:field="*{password}"/>
    <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Error</div><br th:if="${canEditCredentials && !firstTime}">

    <label th:if="${canEditCredentials && !firstTime}" for="passwdconf" th:text="#{account.password.confirm}"></label>
    <input id="passwdconf" type="password" placeholder="Repeat Password"
           name="passwdconf"
           th:type="${canEditCredentials && !firstTime}? 'password' : 'hidden'"
           th:field="*{passwordConf}"/>
    <div th:if="${#fields.hasErrors('passwordConf')}" th:errors="*{passwordConf}">Error</div>

    <br><button type="submit" name="register" th:text="#{${actionBtn}}">Submit</button>

  </form>
</div>
</body>
</html>
